<div class="container">
    <div class="container-header">
        <button 
        mat-icon-button 
        [routerLink]="['/']" 
        aria-label="Voltar"
        >
            <mat-icon>arrow_back_ios</mat-icon>
        </button>
    </div>

    <div class="movie-details">
        <div class="movie-poster-container">
            <div class="movie-poster">
                <img
                    [src]="'https://image.tmdb.org/t/p/w500' + movie.poster_path"
                    [alt]="movie.title"
                />
            </div>
            <div class="movie-actions">
                <button mat-raised-button class="trailer-button" *ngIf="trailerKey" (click)="openTrailer()">
                    <mat-icon class="trailer-icon">play_circle</mat-icon>
                    Assistir ao Trailer
                </button>
                <button mat-raised-button class="favorite-button" (click)="addToFavorites()">
                    <mat-icon>favorite</mat-icon>
                    Adicionar aos favoritos
                </button>
            </div>
        </div>

        <div class="movie-info">
            <h3 class="movie-title">{{movie.title}}</h3>

            <div class="movie-genres">
                <app-genre-chip *ngFor="let genre of movie.genres" [genre]="genre.name"/>
            </div>
            
            <div class="movie-stats">
                <span class="movie-rating">
                    <mat-icon>star</mat-icon>
                    {{ movie.vote_average | number : "1.1-1" }}
                </span>

                <span class="movie-runtime">
                    <mat-icon>access_time</mat-icon>
                    {{formatRuntime(movie.runtime)}}
                </span>

                <span class="movie-realease-date">
                    <mat-icon>calendar_today</mat-icon>
                    {{movie.release_date | date:'dd/MM/yyyy'}}
                </span>
            </div>

            <div class="movie-overview">
                <h4>Sinopse</h4>
                <p>{{movie.overview}}</p>
            </div>

           <app-movie-cast [cast]="topCast"/>
        </div>
    </div>
</div>
